<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><link rel=canonical type=text/html href=https://enricovianello.github.io/storm-docs/blog/news/><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=/storm-docs/favicons/favicon.ico><link rel=apple-touch-icon href=/storm-docs/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/storm-docs/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/storm-docs/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/storm-docs/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/storm-docs/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/storm-docs/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/storm-docs/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/storm-docs/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/storm-docs/favicons/android-192x192.png sizes=192x192><title>News About StoRM | StoRM</title><meta name=description content><meta property="og:title" content="News About StoRM"><meta property="og:description" content="StoRM Storage Resource Manager"><meta property="og:type" content="website"><meta property="og:url" content="https://enricovianello.github.io/storm-docs/blog/news/"><meta property="og:site_name" content="StoRM"><meta itemprop=name content="News About StoRM"><meta itemprop=description content="StoRM Storage Resource Manager"><meta name=twitter:card content="summary"><meta name=twitter:title content="News About StoRM"><meta name=twitter:description content="StoRM Storage Resource Manager"><link rel=preload href=/storm-docs/scss/main.min.09302a175e3102e2e913b99e89e672d3c7db9aa641365a89eeb410e8535d0e2b.css as=style><link href=/storm-docs/scss/main.min.09302a175e3102e2e913b99e89e672d3c7db9aa641365a89eeb410e8535d0e2b.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-00000000-0','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class="td-section td-blog"><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/storm-docs/><span class=navbar-logo></span><span class="text-uppercase font-weight-bold">StoRM</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/storm-docs/blog/><span class=active>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/storm-docs/releases/><span>Releases</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/storm-docs/docs/><span>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/storm-docs/community/><span>Community</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/storm-docs/about/><span>About us</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/storm-docs/offline-search-index.9c086dc8cba8a03f408f79dbec6d7b1e.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"></div><main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/storm-docs/blog/news/>Return to the regular view of this page</a>.</p></div><h1 class=title>News About StoRM</h1><ul><li><a href=#pg-5d38ba79d8398ebfa38f79baeb071d39>New StoRM website!</a></li><li><a href=#pg-876d57879cd74443416594d402d7bf13>StoRM v1.11.20 could break connections with MariaDB</a></li></ul><div class=content></div></div><div class=td-content><h1 id=pg-5d38ba79d8398ebfa38f79baeb071d39>New StoRM website!</h1><div class=lead>The new StoRM website (powered by the Docsy Hugo theme)</div><div class="td-byline mb-4"><time datetime=2022-01-14 class=text-muted>Friday, January 14, 2022</time></div><p>The StoRM website and documentation has moved from <a href=https://italiangrid.github.io/storm/>here</a>,
and if you&rsquo;re reading this you already know.</p><p>The new StoRM website is powered by <a href=https://www.docsy.dev/>Docsy</a>, a <a href=https://gohugo.io/>Hugo</a> theme for
creating technical documentation sites, which is increasingly popular in Open
Source projects.</p><p>The new site provides new and improved documentation.</p><p>If you find something is missing or broken, let us know by opening an issue
or suggest changes. The new Docsy website makes this very easy to anyone with a
Github account, just see the tab on the right of each page.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-876d57879cd74443416594d402d7bf13>StoRM v1.11.20 could break connections with MariaDB</h1><div class=lead>After the update from StoRM v1.11.19 to StoRM v1.11.20, if JVM and database are not on the same timezone, the Backend’s communication with MariaDB could start failing.</div><div class="td-byline mb-4"><time datetime=2021-04-30 class=text-muted>Friday, April 30, 2021</time></div><p>After the update from StoRM v1.11.19 to StoRM v1.11.20, if JVM and database are not on the same timezone, the Backend&rsquo;s communication with MariaDB could start failing with the following error:</p><pre><code>Caused by: java.sql.SQLException: The server time zone value 'CEST' is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value if you want to utilize time zone support.
</code></pre><p>This bug is tracked at <a href=https://issues.infn.it/jira/browse/STOR-1397>STOR-1397</a>.</p><p>The possible solutions to avoid this problem are:</p><ul><li>downgrade StoRM Backend to v1.11.19 (<strong>recommended</strong>)</li><li>apply a workaround within MariaDB</li><li>install StoRM Backend v1.11.21 beta</li></ul><h3 id=downgrade-storm-backend-to-v11119>Downgrade StoRM Backend to v1.11.19</h3><p><strong>RECOMMENDED</strong>. It&rsquo;s the fastest and easy thing to do. The command:</p><pre><code>yum downgrade storm-backend-server
</code></pre><p>should ask you to install StoRM Backend v1.11.19. Confirm and restart the service:</p><pre><code>systemctl restart storm-backend-server
</code></pre><h3 id=apply-a-workaround-within-mariadb>Apply a workaround within MariaDB</h3><ol><li><p><strong>Populate</strong> <code>mysql.time_zone_name</code> <strong>table</strong></p><p>The <code>mysql.time_zone_name</code> table should be empty:</p><pre><code>MariaDB [mysql]&gt; SELECT * FROM mysql.time_zone_name;
Empty set (0.00 sec)
</code></pre><p>and global variable <code>time_zone</code> should be set to SYSTEM.</p><pre><code>MariaDB [mysql]&gt; SHOW GLOBAL VARIABLES LIKE 'time_zone';
+---------------+--------+
| Variable_name | Value  |
+---------------+--------+
| time_zone     | SYSTEM |
+---------------+--------+
1 row in set (0.00 sec)
</code></pre><p>We need to populate that table as follows:</p><pre><code>mysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -uroot -pYOUR_MYSQL_ROOT_PASSWORD mysql
</code></pre></li><li><p><strong>Set</strong> <code>default_time_zone</code></p><p>Edit <code>/etc/my.cnf.d/server.conf</code> and add under <code>[mysql]</code> section add the following:</p><pre><code>default_time_zone = Europe/Rome
</code></pre><p>Or choose your proper <code>time_zone</code>.</p></li><li><p><strong>Restart MySQL</strong></p><pre><code>systemctl restart mariadb
</code></pre><p>And check new time zone value:</p><pre><code>MariaDB [(none)]&gt; SHOW GLOBAL VARIABLES LIKE 'time_zone';
+---------------+-------------+
| Variable_name | Value       |
+---------------+-------------+
| time_zone     | Europe/Rome |
+---------------+-------------+
1 row in set (0.00 sec)
</code></pre></li><li><p><strong>Restart StoRM Backend</strong></p><pre><code>systemctl restart storm-backend-server
</code></pre></li></ol><h3 id=install-storm-backend-v11121-beta>Install StoRM Backend v1.11.21 beta</h3><p>StoRM beta repository already contains a beta version of next StoRM v1.11.21 with this error fixed.
Of course beta repository is not a stable repo, so apply this in case of a testbed. We do not recommend use this rpms in a production behaviour.</p><p>Browse CentOS 7 Beta repository <a href=https://repo.cloud.cnaf.infn.it/service/rest/repository/browse/storm-rpm-beta/centos7/>here</a>.</p></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="StoRM users mailing list" aria-label="StoRM users mailing list"><a class=text-white target=_blank rel=noopener href=https://lists.infn.it/sympa/info/storm-users aria-label="StoRM users mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/italiangrid/storm aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://infn-storm-support.slack.com/ aria-label=Slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="StoRM developers mailing list" aria-label="StoRM developers mailing list"><a class=text-white target=_blank rel=noopener href=https://lists.infn.it/sympa/info/storm-devel aria-label="StoRM developers mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 INFN All Rights Reserved</small><p class=mt-2><a href=/storm-docs/about/>About us</a></p></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/storm-docs/js/tabpane-persist.js></script><script src=/storm-docs/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script></body></html>