<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/storm-docs/favicons/favicon.ico><link rel=apple-touch-icon href=/storm-docs/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/storm-docs/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/storm-docs/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/storm-docs/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/storm-docs/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/storm-docs/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/storm-docs/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/storm-docs/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/storm-docs/favicons/android-192x192.png sizes=192x192><title>LCMAPS mapping | StoRM</title><meta name=description content="StoRM Backend needs a mapping service that converts user's Grid credentials to a local UNIX user and group. The service used by StoRM is **LCMAPS**.
"><meta property="og:title" content="LCMAPS mapping"><meta property="og:description" content="StoRM Backend needs a mapping service that converts user's Grid credentials to a local UNIX user and group. The service used by StoRM is **LCMAPS**.
"><meta property="og:type" content="article"><meta property="og:url" content="https://enricovianello.github.io/storm-docs/docs/getting-started/backend/lcmaps-mapping/"><meta property="article:section" content="docs"><meta property="article:published_time" content="2021-06-25T00:00:00+00:00"><meta property="article:modified_time" content="2021-10-01T19:51:33+02:00"><meta property="og:site_name" content="StoRM"><meta itemprop=name content="LCMAPS mapping"><meta itemprop=description content="StoRM Backend needs a mapping service that converts user's Grid credentials to a local UNIX user and group. The service used by StoRM is **LCMAPS**.
"><meta itemprop=datePublished content="2021-06-25T00:00:00+00:00"><meta itemprop=dateModified content="2021-10-01T19:51:33+02:00"><meta itemprop=wordCount content="764"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="LCMAPS mapping"><meta name=twitter:description content="StoRM Backend needs a mapping service that converts user's Grid credentials to a local UNIX user and group. The service used by StoRM is **LCMAPS**.
"><link rel=preload href=/storm-docs/scss/main.min.09302a175e3102e2e913b99e89e672d3c7db9aa641365a89eeb410e8535d0e2b.css as=style><link href=/storm-docs/scss/main.min.09302a175e3102e2e913b99e89e672d3c7db9aa641365a89eeb410e8535d0e2b.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-00000000-0','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/storm-docs/><span class=navbar-logo></span><span class="text-uppercase font-weight-bold">StoRM</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/storm-docs/blog/><span>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/storm-docs/releases/><span>Releases</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/storm-docs/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/storm-docs/community/><span>Community</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/storm-docs/about/><span>About us</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/storm-docs/offline-search-index.67bc6f289ec40028608c4170c18902f1.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/storm-docs/offline-search-index.67bc6f289ec40028608c4170c18902f1.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-storm-docsdocs-li><a href=/storm-docs/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-storm-docsdocs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-storm-docsdocsoverview-li><a href=/storm-docs/docs/overview/ title="StoRM Architecture Overview" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsoverview><span>Overview</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsoverviewbackend-li><a href=/storm-docs/docs/overview/backend/ title="StoRM Backend" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsoverviewbackend><span>Backend</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsoverviewfrontend-li><a href=/storm-docs/docs/overview/frontend/ title="StoRM Frontend" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsoverviewfrontend><span>Frontend</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsoverviewgridftp-li><a href=/storm-docs/docs/overview/gridftp/ title="StoRM GridFTP DSI plugin" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsoverviewgridftp><span>GridFTP</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsoverviewwebdav-li><a href=/storm-docs/docs/overview/webdav/ title="StoRM WebDAV" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsoverviewwebdav><span>WebDAV</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-storm-docsdocsgetting-started-li><a href=/storm-docs/docs/getting-started/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsgetting-started><span>Getting Started</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedrepositories-li><a href=/storm-docs/docs/getting-started/repositories/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedrepositories><span>Repositories</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedstorm-user-li><a href=/storm-docs/docs/getting-started/storm-user/ title="StoRM user and permissions" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedstorm-user><span>Users and permissions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-storm-docsdocsgetting-startedbackend-li><a href=/storm-docs/docs/getting-started/backend/ title="StoRM Backend" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsgetting-startedbackend><span>Backend</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedbackendstormproperties-li><a href=/storm-docs/docs/getting-started/backend/storm.properties/ title="Configure StoRM Backend service" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedbackendstormproperties><span>Service configuration</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-storm-docsdocsgetting-startedbackendlcmaps-mapping-li><a href=/storm-docs/docs/getting-started/backend/lcmaps-mapping/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedbackendlcmaps-mapping><span class=td-sidebar-nav-active-item>LCMAPS mapping</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedbackendssr-li><a href=/storm-docs/docs/getting-started/backend/ssr/ title="How-to publish storage site report" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedbackendssr><span>Storage Space Report</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedbackendpool-accounts-li><a href=/storm-docs/docs/getting-started/backend/pool-accounts/ title="Pool accounts configuration" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedbackendpool-accounts><span>Pool accounts</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedbackendsa-usage-initialization-li><a href=/storm-docs/docs/getting-started/backend/sa-usage-initialization/ title="Initialize Storage Area used space from file" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedbackendsa-usage-initialization><span>SA used space initialization</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedbackendstorm-utils-usage-li><a href=/storm-docs/docs/getting-started/backend/storm-utils-usage/ title="Usage of StoRM utils scripts" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedbackendstorm-utils-usage><span>StoRM utils usage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedbackendpath-authzdb-li><a href=/storm-docs/docs/getting-started/backend/path-authz.db/ title="Configure StoRM Path Authorization Database" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedbackendpath-authzdb><span>Use path-authz.db</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-storm-docsdocsgetting-startedfrontend-li><a href=/storm-docs/docs/getting-started/frontend/ title="StoRM Frontend" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsgetting-startedfrontend><span>Frontend</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedfrontendargus-ban-user-example-li><a href=/storm-docs/docs/getting-started/frontend/argus-ban-user-example/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedfrontendargus-ban-user-example><span>Argus blacklisting</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedfrontendipv6-li><a href=/storm-docs/docs/getting-started/frontend/ipv6/ title="Bind StoRM services over IPv6" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedfrontendipv6><span>Bind services over IPv6</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedfrontendlogging-li><a href=/storm-docs/docs/getting-started/frontend/logging/ title="Logging StoRM FE service information" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedfrontendlogging><span>Logging</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedfrontendservice-config-li><a href=/storm-docs/docs/getting-started/frontend/service-config/ title="StoRM Frontend installation and configuration guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedfrontendservice-config><span>Service configuration</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-storm-docsdocsconfiguration-li><a href=/storm-docs/docs/configuration/ title="StoRM Configuration" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsconfiguration><span>Configuration</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsconfigurationbackend-li><a href=/storm-docs/docs/configuration/backend/ title="StoRM Backend" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsconfigurationbackend><span>Backend</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsconfigurationfrontend-li><a href=/storm-docs/docs/configuration/frontend/ title="StoRM Frontend" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsconfigurationfrontend><span>Frontend</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsconfigurationgridftp-li><a href=/storm-docs/docs/configuration/gridftp/ title="StoRM GridFTP DSI plugin" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsconfigurationgridftp><span>GridFTP</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsconfigurationwebdav-li><a href=/storm-docs/docs/configuration/webdav/ title="StoRM WebDAV" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsconfigurationwebdav><span>WebDAV</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsconfigurationinfo-provider-li><a href=/storm-docs/docs/configuration/info-provider/ title="StoRM Dynamic Info Provider" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsconfigurationinfo-provider><span>Info Provider</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-storm-docsdocsconfigurationhow-to-li><a href=/storm-docs/docs/configuration/how-to/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsconfigurationhow-to><span>How-To</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsconfigurationhow-topath-authz-db-li><a href=/storm-docs/docs/configuration/how-to/path-authz-db/ title="Configure path-authz.db" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsconfigurationhow-topath-authz-db><span>Use path-authz.db authorization</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-storm-docsdocsconcepts-li><a href=/storm-docs/docs/concepts/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsconcepts><span>Concepts</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsconceptsstorm-security-li><a href=/storm-docs/docs/concepts/storm-security/ title="StoRM Security" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsconceptsstorm-security><span>StoRM security</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsconceptsstorage-info-li><a href=/storm-docs/docs/concepts/storage-info/ title="StoRM Storage Information" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsconceptsstorage-info><span>Storage Info</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-storm-docsdocsuser-guides-li><a href=/storm-docs/docs/user-guides/ title="User Guides" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsuser-guides><span>User guides</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsuser-guidesclient-srm-li><a href=/storm-docs/docs/user-guides/client-srm/ title="ClientSRM User Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsuser-guidesclient-srm><span>ClientSRM</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsuser-guideswebdav-li><a href=/storm-docs/docs/user-guides/webdav/ title="WebDAV User Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsuser-guideswebdav><span>WebDAV</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-storm-docsdocsreference-li><a href=/storm-docs/docs/reference/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsreference><span>Reference</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsreferenceexample-page-li><a href=/storm-docs/docs/reference/example-page/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsreferenceexample-page><span>Example Page</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-storm-docsdocsreferenceconfiguration-li><a href=/storm-docs/docs/reference/configuration/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsreferenceconfiguration><span>Configuration</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsreferenceconfigurationfrontend-li><a href=/storm-docs/docs/reference/configuration/frontend/ title="StoRM Frontend" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsreferenceconfigurationfrontend><span>Frontend</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsreferenceconfigurationgridftp-li><a href=/storm-docs/docs/reference/configuration/gridftp/ title="StoRM GridFTP" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsreferenceconfigurationgridftp><span>GridFTP</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsreferenceconfigurationwebdav-li><a href=/storm-docs/docs/reference/configuration/webdav/ title="StoRM WebDAV" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsreferenceconfigurationwebdav><span>WebDAV</span></a></li></ul></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/enricovianello/docsy-example/edit/storm/content/en/docs/getting-started/backend/lcmaps-mapping.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/enricovianello/docsy-example/new/storm/content/en/docs/getting-started/backend/lcmaps-mapping.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/enricovianello/docsy-example/issues/new?title=LCMAPS%20mapping" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/google/docsy/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
<a id=print href=https://enricovianello.github.io/storm-docs/docs/getting-started/backend/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#example>Example</a><ul><li><a href=#configure-users-and-groups-mapping>Configure users and groups mapping</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://enricovianello.github.io/storm-docs/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://enricovianello.github.io/storm-docs/docs/getting-started/>Getting Started</a></li><li class=breadcrumb-item><a href=https://enricovianello.github.io/storm-docs/docs/getting-started/backend/>Backend</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://enricovianello.github.io/storm-docs/docs/getting-started/backend/lcmaps-mapping/>LCMAPS mapping</a></li></ol></nav><div class=td-content><h1>LCMAPS mapping</h1><div class=lead>StoRM Backend needs a mapping service that converts user&rsquo;s Grid credentials to a local UNIX user and group. The service used by StoRM is <strong>LCMAPS</strong>.</div><header class=article-meta></header><p>LCMAPS is the Local Credential Mapping Service and it takes care of translating grid credentials to Unix credentials local to the site by using <a href=http://www.gridsite.org/gridmapdir/>the pool account mechanism</a>. It takes care of ensuring that different individuals on the Grid remain distinct Unix accounts. Using group mappings based on the user&rsquo;s VO attributes, isolation and scheduling priority decisions can be made.</p><blockquote><p><em>See more on <a href=https://wiki.nikhef.nl/grid/LCMAPS>https://wiki.nikhef.nl/grid/LCMAPS</a></em></p></blockquote><p>This mapping can be configured via YAIM through the variables <code>USERS_CONF</code> and <code>GROUPS_CONF</code>. These variables contain the full absolute path of a couple of files: <em>users.conf</em> and <em>groups.conf</em>.</p><p>The file <em>users.conf</em> contains the list of Linux users (pool accounts) to be created. It&rsquo;s a plain list of the users and their IDs. An example of this configuration file can be found into:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>/opt/glite/yaim/examples/users.conf
</code></pre></div><p>More details can be found in the <a href=https://twiki.cern.ch/twiki/bin/view/LCG/YaimGuide400#User_configuration_in_YAIM>User configuration section in the YAIM guide</a>.</p><p>The UNIX users here defined must be created on the service nodes that need them (mainly CE and WNs). The format is the following (fields must not have any white space):</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>UID:LOGIN:GID1<span style=color:#ce5c00;font-weight:700>[</span>,GID2,...<span style=color:#ce5c00;font-weight:700>]</span>:GROUP1<span style=color:#ce5c00;font-weight:700>[</span>,GROUP2,...<span style=color:#ce5c00;font-weight:700>]</span>:VO:FLAG:
</code></pre></div><ul><li>UID = user ID. This must be a valid uid. Make sure the number you choose is not assigned to another user.</li><li>LOGIN = login name</li><li>GID1 = primary group ID. This must be a valid gid. Make sure the number you choose is not assigned to another group.</li><li>GID2 = secondary group ID.</li><li>GROUP1 = primary group</li><li>GROUP2 = secondary group</li><li>VO = virtual organization</li><li>FLAG = string to identify special users, further described below</li></ul><p>You can customize this file to your site needs.</p><p>The <em>groups.conf</em> file defines the user categories that must be accepted by the grid services provided by a site. It indicates for each category to which kind of local accounts the user should be mapped, where applicable. The file has the following format:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#4e9a06>&#34;VOMS_FQAN&#34;</span>:GROUP:GID:FLAG:<span style=color:#ce5c00;font-weight:700>[</span>VO<span style=color:#ce5c00;font-weight:700>]</span>
</code></pre></div><ul><li>VOMS_FQAN = VOMS proxy fully qualified attribute name</li><li>GROUP = UNIX group</li><li>GID = UNIX GID</li><li>FLAG = string to identify special users, further described below</li><li>VO = virtual organization (optional. It allows the VO to be specified explicitly, otherwise it will be derived from the VOMS FQAN</li></ul><p>The groups.conf distributed by YAIM is only an example. You can remove the lines that doesn&rsquo;t apply to your site or VO and add new lines if needed. Example:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#4e9a06>&#34;/dteam/ROLE=lcgadmin&#34;</span>:::sgm:
<span style=color:#4e9a06>&#34;/dteam/ROLE=production&#34;</span>:::prd:
<span style=color:#4e9a06>&#34;/dteam&#34;</span>::::
</code></pre></div><p>The <em>groups.conf</em> file lists the VOMS proxy primary FQANs that are accepted. If a proxy has a secondary FQAN that matches one of the FQANs listed, the mapped account may receive an extra secondary GID corresponding to the matched FQAN. That GID normally is derived from the corresponding accounts in the users.conf file. If there are no accounts dedicated to that FQAN, the desired extra GID (if any) and GROUP name must be given in groups.conf.
Note that:</p><ul><li>it is normal for the second and third fields to be empty, as shown in the example;</li><li>the account corresponding to the primary FQAN does not have to belong to any secondary group: the LCMAPS library can set secondary groups independently of what is in /etc/group;</li><li>the order of the lines in <em>groups.conf</em> is important: for any FQAN only the first match is taken</li></ul><p>The FLAG selects a set of special accounts to be used for the mapping, namely those accounts in users.conf that have the same flag. By default, when the flag is empty, the ordinary pool accounts will be used.</p><h2 id=example>Example</h2><h3 id=configure-users-and-groups-mapping>Configure users and groups mapping</h3><p>We want to create the following pool accounts:</p><ul><li>a pool account of 100 users with group name <em>testvo</em> and <em>test.vo</em> as VO name</li><li>a pool account of 30 production users with group name <em>testvoprd</em>, <em>test.vo</em> as VO name and <em>prd</em> as FLAG.</li></ul><p>In order to do this we have to create the following files:</p><ul><li><code>storm-users.conf</code></li><li><code>storm-groups.conf</code></li></ul><p>The first file contains the definition of all the users (with their relative groups):</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>71001:tstvo001:7100:testvo:test.vo::
71002:tstvo002:7100:testvo:test.vo::
71003:tstvo003:7100:testvo:test.vo::
71004:tstvo004:7100:testvo:test.vo::
...
71100:tstvo100:7100:testvo:test.vo::
71101:testvoprd001:7170,7100:testvoprd,testvo:test.vo:prd:
71102:testvoprd002:7170,7100:testvoprd,testvo:test.vo:prd:
71103:testvoprd003:7170,7100:testvoprd,testvo:test.vo:prd:
71104:testvoprd004:7170,7100:testvoprd,testvo:test.vo:prd:
...
71129:testvoprd029:7170,7100:testvoprd,testvo:test.vo:prd:
71130:testvoprd030:7170,7100:testvoprd,testvo:test.vo:prd:
</code></pre></div><p>The second file contains the mapping rules used to map a FQAN to a local group.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#4e9a06>&#34;/test.vo/ROLE=R1&#34;</span>:::prd:
<span style=color:#4e9a06>&#34;/test.vo&#34;</span>::::
</code></pre></div><p>In this case, we defined:</p><ul><li>a rule that maps <em>test.vo</em> users with role equal to <code>R1</code> to the pool account with <code>FLAG = prd</code> (group name <em>testvoprd</em>)</li><li>a rule that maps all the other <em>test.vo</em> users to the group <em>testvo</em></li></ul><p>To apply the changes, define YAIM&rsquo;s variables into a site.def file:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#000>USERS_CONF</span><span style=color:#ce5c00;font-weight:700>=</span>/path/to/storm-users.conf
<span style=color:#000>GROUPS_CONF</span><span style=color:#ce5c00;font-weight:700>=</span>/path/to/storm-groups.conf
<span style=color:#000>VOS</span><span style=color:#ce5c00;font-weight:700>=</span>test.vo
</code></pre></div><p>and run yaim configuration as follow:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>/opt/glite/yaim/bin/yaim <span style=color:#4e9a06>\
</span><span style=color:#4e9a06></span>    -c -s site.def <span style=color:#4e9a06>\
</span><span style=color:#4e9a06></span>    -n se_config_users
</code></pre></div><p>You need a YAIM profile <code>/opt/glite/yaim/node-info.d/se_config_users</code> defined as follows:</p><pre><code>se_config_users_FUNCTIONS=&quot;
config_users

&quot;
</code></pre><blockquote><p>Install YAIM with:</p><pre><code>yum install -y glite-yaim-core attr
</code></pre></blockquote><p>INSTALL_ROOT USERS_CONF GROUPS_CONF VOS VO__VOMS_SERVERS GRIDMAPFILE CONFIG_GRIDMAPDIR</p><div class="text-muted mt-5 pt-3 border-top">Last modified October 1, 2021: <a href=https://github.com/enricovianello/docsy-example/commit/62a88aed44ec68a95bb5bba35a6f6932db7e4301>wip (62a88ae)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="StoRM users mailing list" aria-label="StoRM users mailing list"><a class=text-white target=_blank rel=noopener href=https://lists.infn.it/sympa/info/storm-users aria-label="StoRM users mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/italiangrid/storm aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://infn-storm-support.slack.com/ aria-label=Slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="StoRM developers mailing list" aria-label="StoRM developers mailing list"><a class=text-white target=_blank rel=noopener href=https://lists.infn.it/sympa/info/storm-devel aria-label="StoRM developers mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 INFN All Rights Reserved</small><p class=mt-2><a href=/storm-docs/about/>About us</a></p></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/storm-docs/js/tabpane-persist.js></script><script src=/storm-docs/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script></body></html>