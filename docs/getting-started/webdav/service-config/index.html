<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/storm-docs/favicons/favicon.ico><link rel=apple-touch-icon href=/storm-docs/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/storm-docs/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/storm-docs/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/storm-docs/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/storm-docs/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/storm-docs/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/storm-docs/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/storm-docs/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/storm-docs/favicons/android-192x192.png sizes=192x192><title>Service configuration | StoRM</title><meta name=description content="In this section we describe how to configure the StoRM WebDAV service.
"><meta property="og:title" content="Service configuration"><meta property="og:description" content="In this section we describe how to configure the StoRM WebDAV service.
"><meta property="og:type" content="article"><meta property="og:url" content="https://enricovianello.github.io/storm-docs/docs/getting-started/webdav/service-config/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-06-22T17:20:51+02:00"><meta property="og:site_name" content="StoRM"><meta itemprop=name content="Service configuration"><meta itemprop=description content="In this section we describe how to configure the StoRM WebDAV service.
"><meta itemprop=dateModified content="2023-06-22T17:20:51+02:00"><meta itemprop=wordCount content="2939"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Service configuration"><meta name=twitter:description content="In this section we describe how to configure the StoRM WebDAV service.
"><link rel=preload href=/storm-docs/scss/main.min.09302a175e3102e2e913b99e89e672d3c7db9aa641365a89eeb410e8535d0e2b.css as=style><link href=/storm-docs/scss/main.min.09302a175e3102e2e913b99e89e672d3c7db9aa641365a89eeb410e8535d0e2b.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-00000000-0','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/storm-docs/><span class=navbar-logo></span><span class="text-uppercase font-weight-bold">StoRM</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/storm-docs/blog/><span>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/storm-docs/releases/><span>Releases</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/storm-docs/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/storm-docs/community/><span>Community</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/storm-docs/about/><span>About us</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/storm-docs/offline-search-index.a8423f8f473b66ff858b308547a9abda.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/storm-docs/offline-search-index.a8423f8f473b66ff858b308547a9abda.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-storm-docsdocs-li><a href=/storm-docs/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-storm-docsdocs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-storm-docsdocsoverview-li><a href=/storm-docs/docs/overview/ title="StoRM Architecture Overview" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsoverview><span>Overview</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsoverviewbackend-li><a href=/storm-docs/docs/overview/backend/ title="StoRM Backend" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsoverviewbackend><span>Backend</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsoverviewfrontend-li><a href=/storm-docs/docs/overview/frontend/ title="StoRM Frontend" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsoverviewfrontend><span>Frontend</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsoverviewgridftp-li><a href=/storm-docs/docs/overview/gridftp/ title="StoRM GridFTP DSI plugin" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsoverviewgridftp><span>GridFTP</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsoverviewwebdav-li><a href=/storm-docs/docs/overview/webdav/ title="StoRM WebDAV" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsoverviewwebdav><span>WebDAV</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-storm-docsdocsgetting-started-li><a href=/storm-docs/docs/getting-started/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsgetting-started><span>Getting Started</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedrepositories-li><a href=/storm-docs/docs/getting-started/repositories/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedrepositories><span>Repositories</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedstorm-user-li><a href=/storm-docs/docs/getting-started/storm-user/ title="StoRM user and permissions" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedstorm-user><span>Users and permissions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedgridftp-li><a href=/storm-docs/docs/getting-started/gridftp/ title="StoRM Globus GridFTP installation and configuration guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedgridftp><span>StoRM GridFTP DSI plugin</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-storm-docsdocsgetting-startedbackend-li><a href=/storm-docs/docs/getting-started/backend/ title="StoRM Backend" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsgetting-startedbackend><span>Backend</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedbackendstormproperties-li><a href=/storm-docs/docs/getting-started/backend/storm.properties/ title="Configure StoRM Backend service" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedbackendstormproperties><span>Service configuration</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedbackendlcmaps-mapping-li><a href=/storm-docs/docs/getting-started/backend/lcmaps-mapping/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedbackendlcmaps-mapping><span>LCMAPS mapping</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedbackendssr-li><a href=/storm-docs/docs/getting-started/backend/ssr/ title="How-to publish storage site report" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedbackendssr><span>Storage Space Report</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedbackendpool-accounts-li><a href=/storm-docs/docs/getting-started/backend/pool-accounts/ title="Pool accounts configuration" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedbackendpool-accounts><span>Pool accounts</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedbackendsa-usage-initialization-li><a href=/storm-docs/docs/getting-started/backend/sa-usage-initialization/ title="Initialize Storage Area used space from file" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedbackendsa-usage-initialization><span>SA used space initialization</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedbackendstorm-utils-usage-li><a href=/storm-docs/docs/getting-started/backend/storm-utils-usage/ title="Usage of StoRM utils scripts" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedbackendstorm-utils-usage><span>StoRM utils usage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedbackendpath-authzdb-li><a href=/storm-docs/docs/getting-started/backend/path-authz.db/ title="Configure StoRM Path Authorization Database" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedbackendpath-authzdb><span>Use path-authz.db</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-storm-docsdocsgetting-startedfrontend-li><a href=/storm-docs/docs/getting-started/frontend/ title="StoRM Frontend" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsgetting-startedfrontend><span>Frontend</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedfrontendargus-ban-user-example-li><a href=/storm-docs/docs/getting-started/frontend/argus-ban-user-example/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedfrontendargus-ban-user-example><span>Argus blacklisting</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedfrontendipv6-li><a href=/storm-docs/docs/getting-started/frontend/ipv6/ title="Bind StoRM services over IPv6" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedfrontendipv6><span>Bind services over IPv6</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedfrontendlogging-li><a href=/storm-docs/docs/getting-started/frontend/logging/ title="Logging StoRM FE service information" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedfrontendlogging><span>Logging</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedfrontendservice-config-li><a href=/storm-docs/docs/getting-started/frontend/service-config/ title="StoRM Frontend installation and configuration guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedfrontendservice-config><span>Service configuration</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsgetting-startedgridftp-li><a href=/storm-docs/docs/getting-started/gridftp/ title="StoRM Globus GridFTP DSI plugin" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsgetting-startedgridftp><span>GridFTP</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-storm-docsdocsgetting-startedwebdav-li><a href=/storm-docs/docs/getting-started/webdav/ title="StoRM WebDAV" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsgetting-startedwebdav><span>WebDAV</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-storm-docsdocsgetting-startedwebdavservice-config-li><a href=/storm-docs/docs/getting-started/webdav/service-config/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsgetting-startedwebdavservice-config><span class=td-sidebar-nav-active-item>Service configuration</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-storm-docsdocsconcepts-li><a href=/storm-docs/docs/concepts/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsconcepts><span>Concepts</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsconceptsstorm-security-li><a href=/storm-docs/docs/concepts/storm-security/ title="StoRM Security" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsconceptsstorm-security><span>StoRM security</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsconceptsstorage-info-li><a href=/storm-docs/docs/concepts/storage-info/ title="StoRM Storage Information" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsconceptsstorage-info><span>Storage Info</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-storm-docsdocsuser-guides-li><a href=/storm-docs/docs/user-guides/ title="User Guides" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsuser-guides><span>User guides</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsuser-guidesclient-srm-li><a href=/storm-docs/docs/user-guides/client-srm/ title="ClientSRM User Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsuser-guidesclient-srm><span>ClientSRM</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsuser-guideswebdav-li><a href=/storm-docs/docs/user-guides/webdav/ title="WebDAV User Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsuser-guideswebdav><span>WebDAV</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-storm-docsdocsreference-li><a href=/storm-docs/docs/reference/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-storm-docsdocsreference><span>Reference</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-storm-docsdocsreferenceexample-page-li><a href=/storm-docs/docs/reference/example-page/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-storm-docsdocsreferenceexample-page><span>Example Page</span></a></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/enricovianello/docsy-example/edit/storm/content/en/docs/getting-started/webdav/service-config.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/enricovianello/docsy-example/new/storm/content/en/docs/getting-started/webdav/service-config.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/enricovianello/docsy-example/issues/new?title=Service%20configuration" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/google/docsy/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
<a id=print href=https://enricovianello.github.io/storm-docs/docs/getting-started/webdav/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#storage-area-configuration>Storage area configuration</a><ul><li><a href=#properties>Properties</a></li></ul></li><li><a href=#authorization-configuration>Authorization configuration</a><ul><li><a href=#flat-authorization-configuration>Flat authorization configuration</a></li><li><a href=#wlcg-jwt-scope-based-authorization>WLCG JWT scope-based authorization</a></li><li><a href=#fine-grained-authorization>Fine-grained authorization</a></li></ul></li><li><a href=#vo-mapfiles>VO mapfiles</a><ul><li><a href=#how-to-enable-vo-map-files>How to enable VO map files</a></li><li><a href=#vo-map-files-format-and-location>VO map files format and location</a></li><li><a href=#vo-map-file-examples>VO Map file examples</a></li></ul></li><li><a href=#custom-applicationyml-configuration>Custom application.yml configuration</a><ul><li><a href=#trusted-oauth-connect-token-issuers-configuration>Trusted OAuth connect token issuers configuration</a></li><li><a href=#openid-connect-authentication>OpenID connect authentication</a></li><li><a href=#fine-grained-authorization-1>Fine-grained authorization</a></li></ul></li><li><a href=#threadpool-sizes>Threadpool sizes</a></li><li><a href=#conscrypt>Conscrypt</a></li><li><a href=#configuring-support-for-third-party-transfers>Configuring support for third-party transfers</a><ul><li><a href=#hostname-configuration>Hostname configuration</a></li><li><a href=#oauth-authorization-server-configuration>OAuth authorization server configuration</a></li></ul></li><li><a href=#configuring-support-for-externalized-sessions>Configuring support for externalized sessions</a></li><li><a href=#memory>Memory</a></li><li><a href=#use-devurandom-for-random-number-generation>Use <code>/dev/urandom</code> for random number generation</a></li><li><a href=#puppet-configuration>Puppet configuration</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://enricovianello.github.io/storm-docs/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://enricovianello.github.io/storm-docs/docs/getting-started/>Getting Started</a></li><li class=breadcrumb-item><a href=https://enricovianello.github.io/storm-docs/docs/getting-started/webdav/>WebDAV</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://enricovianello.github.io/storm-docs/docs/getting-started/webdav/service-config/>Service configuration</a></li></ol></nav><div class=td-content><h1>Service configuration</h1><div class=lead>In this section we describe how to configure the StoRM WebDAV service.</div><header class=article-meta></header><p>The storm-webdav service configuration lives in the <code>/etc/systemd/system/storm-webdav.service.d/storm-webdav.conf</code> file.
Typically the configuration works out of the box, but changes are required, for instance, to
enable third-party transfer support.</p><p>StoRM can also be configured using (one or more) YAML files.</p><p>You can find an empty YAML configuration file in
<code>/etc/storm/webdav/config/application.yml</code> together with a <code>README.md</code> file in
the same directory that provides configuration instructions.</p><p>That configuration file is used to override settings in the configuration file
embedded in the storm webdav jar package:</p><p><a href=https://github.com/italiangrid/storm-webdav/blob/master/src/main/resources/application.yml>https://github.com/italiangrid/storm-webdav/blob/master/src/main/resources/application.yml</a></p><p>that you can consult to see what are the default settings.</p><h2 id=storage-area-configuration>Storage area configuration</h2><p>Each storage area is configured by placing a properties file in the <code>/etc/storm/webdav/sa.d</code> directory.
StoRM WebDAV will look for configuration in all files ending with <code>.properties</code> in this directory. If no configuration files are found, the service will not start.</p><h3 id=properties>Properties</h3><table><thead><tr><th><em>Name</em></th><th><em>Description</em></th><th><em>Required</em></th><th><em>Example</em></th><th><em>Default</em></th></tr></thead><tbody><tr><td><code>name</code></td><td>The name of the storage area</td><td>True</td><td><code>name=sa</code></td><td>N/A</td></tr><tr><td><code>rootPath</code></td><td>Root path for the storage area. Files will be served from this path.</td><td>True</td><td><code>rootPath=/storage/sa</code></td><td>N/A</td></tr><tr><td><code>accessPoints</code></td><td>Comma separated list of storage area access points.</td><td>True</td><td><code>accessPoints=/sa</code></td><td>N/A</td></tr><tr><td><code>vos</code></td><td>Comma-separated list of VOMS VOs trusted in this storage area</td><td>False</td><td><code>vos=atlas</code></td><td>N/A</td></tr><tr><td><code>orgs</code></td><td>Comma-separated list of OAuth/OpenID Connect token issuers trusted in this storage area</td><td>False</td><td><code>orgs=https://wlcg.cloud.cnaf.infn.it/</code></td><td>N/A</td></tr><tr><td><code>authenticatedReadEnabled</code></td><td>Enables read access to users authenticated with an X.509 certificate issued by a trusted CA (users without VOMS credentials)</td><td>False</td><td><code>authenticatedReadEnabled=true</code></td><td>false</td></tr><tr><td><code>anonymousReadEnabled</code></td><td>Enables read access to anonymous users.</td><td>False</td><td><code>anonymousReadEnabled=false</code></td><td>false</td></tr><tr><td><code>voMapEnabled</code></td><td>Enables VO map files for this storage area.</td><td>False</td><td><code>voMapEnabled=false</code></td><td>true</td></tr><tr><td><code>voMapGrantsWriteAccess</code></td><td>VO map files grants read-only access to storage area files. Use this flag to grant write access to VO map files users</td><td>False</td><td><code>voMapGrantsWriteAccess=true</code></td><td>false</td></tr><tr><td><code>orgsGrantReadPermission</code></td><td>Enables read access to storage area files to users authenticated using OAuth/OIDC</td><td>False</td><td><code>orgsGrantReadPermission=false</code></td><td>true</td></tr><tr><td><code>orgsGrantWritePermission</code></td><td>Enables write access to storage area files to users authenticated using OAuth/OIDC</td><td>False</td><td><code>orgsGrantWritePermission=false</code></td><td>false</td></tr><tr><td><code>wlcgScopeAuthzEnabled</code></td><td>Enables scope-based authorization following the rules imposed by the WLCG JWT profile</td><td>False</td><td><code>wlcgScopeAuthzEnabled=true</code></td><td>false</td></tr><tr><td><code>fineGrainedAuthzEnabled</code></td><td>Enables fine-grained authorization engine for the storage area</td><td>False</td><td><code>fineGrainedAuthzEnabled=true</code></td><td>false</td></tr></tbody></table><h2 id=authorization-configuration>Authorization configuration</h2><p>Up to version 1.2.0, StoRM WebDAV supported only flat authorization on
storage areas. This means that the same access privileges would be granted
to all the members of trusted VOMS Virtual Organization, or OpenID
Connect/OAuth token issuer.</p><p>This authorization model is good enough in many scientific computing
scenarios, and is the main one in use in WLCG computing.</p><p>Starting with version 1.3.1, StoRM WebDAV introduces a new
authorization engine that allows for finer-grained auhtorization.</p><h3 id=flat-authorization-configuration>Flat authorization configuration</h3><h4 id=anonymous-access>Anonymous access</h4><p>To grant anonymous read access on the storage area, set
<code>anonymousReadEnabled=true</code>.</p><h4 id=x509-authenticated-access>X.509 authenticated access</h4><p>To grant anonymous read access to users authenticated with an X.509
certificate issued by a trusted CA (i.e., users without VOMS
credentials), set <code>authenticatedReadEnabled=true</code>.</p><h4 id=voms-authorization>VOMS authorization</h4><p>Flat VOMS authorization is configured by including the VO that
needs to be trusted in the <code>vos</code> property of the storage area
configuration.</p><h4 id=oauthoidc-authorization>OAuth/OIDC authorization</h4><p>Flat OAuth/OIDC authorization is enabled by including the token issuer
in the <code>orgs</code> property of the storage area configuration.</p><p>Note that the token issuer must also be included in the list of trusted
issuer for the whole service in the <code>/etc/storm/webdav/config/application.yml</code> file.</p><p>By default, only read access is granted to the storage area. To enable
write access, set <code>orgsGrantWritePermission=true</code>.</p><h3 id=wlcg-jwt-scope-based-authorization>WLCG JWT scope-based authorization</h3><p>Starting with version 1.3.1, StoRM WebDAV introduces support for WLCG
JWT profile scope-based authorization.</p><p>For this to work, add the trusted token issuer to the trusted ones
(see above) and set <code>wlcgScopeAuthzEnabled=true</code>.</p><p>By default, adding a token issuer to the list of the trusted ones for a
storage area will grant read access to the storage area. If you want to
enforce WLCG scope-based authorization completely, set
<code>orgsGrantReadPermission=false</code>.</p><h3 id=fine-grained-authorization>Fine-grained authorization</h3><p>Starting with version 1.3.1, StoRM WebDAV introduces a new authorization
engine which allows for finer-grained authorization. It&rsquo;s possible to
define access policies for individual files/folders in the storage area,
and targeting specific authenticated users or group of users.</p><p>More flexibility means also more configuration complexity.
To enable fine-grained authorization on a storage area, set
<code>fineGrainedAuthzEnabled=true</code>. The authorization engine will be
activated <strong>together with other authorization mechanism described
above</strong>.</p><h4 id=fine-grained-authorization-policies>Fine-grained authorization policies</h4><p>Fine-grained authorization policies are defined using spring application
configuration YAML files, i.e., typically by editing the
<code>/etc/storm/webdav/config/application.yml</code> file.</p><p>An example set of policies is given below:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>storm</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>authz</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>policies</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>sa</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>wlcg</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>actions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>list</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>read</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>effect</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>permit</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>description</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Grant read access to any user</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>principals</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>anyone</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>sa</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>wlcg</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>actions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>all</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>effect</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>permit</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>description</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Grant read/write access to WLCG VOMS vo users</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>principals</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>vo</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>params</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>vo</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>wlcg</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><p>Two policies are defined, for the <code>wlcg</code> storage area.
These policies are flat, i.e. cover the whole storage area.
The first policy allows read access to anonymous users.
The second one allows read/write access to any user authenticated with
VOMS credentials from the <code>wlcg</code> VO.</p><p>The policy above is basically equivalent to these settings in the
storage area configuration.</p><pre><code class=language-properties data-lang=properties>anonymousReadEnabled=true
vos=wlcg
</code></pre><p>Using the fine-grained authorization engine is not convenient if the
access model for the storage area is flat.</p><p>Policies are evaluated in the order in which they are defined, and the
fist applicable one is used to render the authorization decision.</p><p>A policy contains the following directives:</p><ul><li><p><code>sa</code>: The nome of the storage area to which the policy applies.</p></li><li><p><code>actions</code>: a list of actions that the policy is authorizing. Possible
values:</p><ul><li><code>list</code>: the ability to list directory contents</li><li><code>read</code>: the ability to read files</li><li><code>write</code>: the ability to write files and create directories</li><li><code>delete</code>: the ability to delete files/directories</li><li><code>all</code>: a catchall for all other actions</li></ul></li><li><p><code>paths</code>: the list of paths, within the storage area, the policy
applies to. If omitted, the policy will apply to all paths.</p><p>To match a directory and all its contents, use a wildcard like the
following: <code>/some/dir/**</code></p></li><li><p><code>effect</code>:</p><ul><li><code>permit</code>: defines a permit policy</li><li><code>deny</code>: defines a deny policy</li></ul></li><li><p><code>description</code>: A textual description of the policy. This is a required
field, and is mainly useful to help debugging authorization problems.</p></li><li><p><code>principals</code>: a list of principals that the policy will apply to.
Simple principal types are defined by a string value, while complex
principal types require parameters.</p><p>For example, the <code>anyone</code> principal is a simple principal type,
while the <code>jwt-group</code> principal is a complex type that requires
two parameters: the token issuer URI, and the group name.</p></li></ul><table><thead><tr><th><em>Principal</em></th><th><em>Type</em></th><th><em>Description</em></th><th><em>Parameters</em></th></tr></thead><tbody><tr><td><code>anyone</code></td><td>simple</td><td>will match any user (authenticated or not)</td><td>N/A</td></tr><tr><td><code>any-authenticated-user</code></td><td>simple</td><td>will match any authenticated user</td><td>N/A</td></tr><tr><td><code>anonymous</code></td><td>simple</td><td>will match any anonymous user</td><td>N/A</td></tr><tr><td><code>vo</code></td><td>complex</td><td>will match authenticated users presenting a valid VOMS credential for a given VO.</td><td><code>vo</code>: the name of the VO</td></tr><tr><td><code>vo-map</code></td><td>complex</td><td>will match authenticated mapped to a VO through a vomap configuration</td><td><code>vo</code>: the name of the VO</td></tr><tr><td><code>fqan</code></td><td>complex</td><td>will match authenticated users presenting a valid VOMS credential that contains the given FQAN.</td><td><code>fqan</code>: the VOMS fqan</td></tr><tr><td><code>jwt-group</code></td><td>complex</td><td>will match authenticated users with valid JWT token and belonging to the given group.</td><td><code>iss</code>: the token issuer, <code>group</code>: the group name</td></tr><tr><td><code>jwt-scope</code></td><td>complex</td><td>will match authenticated users with valid JWT token bearing the requested scope.</td><td><code>iss</code>: the token issuer, <code>scope</code>: the scope</td></tr><tr><td><code>jwt-issuer</code></td><td>complex</td><td>will match authenticated users with valid JWT token issued by the required token issuer</td><td><code>iss</code>: the token issuer</td></tr><tr><td><code>jwt-subject</code></td><td>complex</td><td>will match authenticated users with valid JWT token and presenting the requested subject claim.</td><td><code>iss</code>: the token issuer, <code>sub</code>: the subject</td></tr><tr><td><code>x509-subject</code></td><td>complex</td><td>will match authenticated users presenting a valid x.509 credential and a given subject</td><td><code>subject</code>: the certificate subject, in RFC2253 format</td></tr></tbody></table><h4 id=examples>Examples</h4><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>storm</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>authz</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>policies</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>sa</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>example</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>actions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>list</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>read</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>effect</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>permit</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>paths</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>/read-only/**</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>description</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Grant read access to any authenticated user to /read-only data</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>principals</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>anyone</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>sa</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>example</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>actions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>all</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>effect</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>permit</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>description</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Grant read/write access to the whole sa to /example/admins group members</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>principals</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>jwt-group</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>params</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>iss</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>https://iam.example</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>group</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/example/admins</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>fqan</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>params</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>fqan</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/example/admins</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><p>The policies above grant:</p><ul><li>read-only access to anyone on the <code>/read-only</code> folder, in the <code>example</code> storage area</li><li>all access to the <code>example</code> storage area to users in the group
<code>/example/admins</code>, authenticated with VOMS or OpenID Connect</li></ul><h2 id=vo-mapfiles>VO mapfiles</h2><p>When VO map files are enabled, users can authenticate to the StoRM webdav
service using the certificate in their browser and be granted VOMS attributes
if their subject is listed in one of the supported VO mapfile. You can
configure whether users listed in VO map files will be granted read-only or
write permissions in the storage area configuration in the
<code>/etc/storm/webdav/sa.d</code> directory.</p><p>This mechanism is very similar to the traditional Gridmap file but is just used
to know whether a given user is registered as a member in a VOMS managed VO and
not to map his/her certificate subject to a local unix account.</p><h3 id=how-to-enable-vo-map-files>How to enable VO map files</h3><p>VO map files support is disabled by default in StoRM WebDAV.</p><p>Set <code>STORM_WEBDAV_VO_MAP_FILES_ENABLE=true</code> in</p><p><code>/etc/systemd/system/storm-webdav.service.d/storm-webdav.conf</code> to enable VO map file support.</p><h3 id=vo-map-files-format-and-location>VO map files format and location</h3><p>A VO map file is a csv file listing a certificate subject, issuer and email for each line.
It can be easily generated for a given VO using the <code>voms-admin</code> command line utility.
VO map files by default live in the <code>/etc/storm/webdav/vo-mapfiles.d</code> directory.</p><p>For each VO, a file named:</p><p><code>VONAME.vomap</code></p><p>is put in the <code>/etc/storm/webdav/vo-mapfiles.d</code> directory.</p><h3 id=vo-map-file-examples>VO Map file examples</h3><p>The file <code>/etc/storm/webdav/vo-mapfiles.d/test.vomap</code> with the following content:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat>/C=IT/O=INFN/OU=Personal Certificate/L=CNAF/CN=Andrea Ceccanti,/C=IT/O=INFN/CN=INFN CA,andrea.ceccanti@cnaf.infn.it
/C=IT/O=INFN/OU=Personal Certificate/L=CNAF/CN=Enrico Vianello,/C=IT/O=INFN/CN=INFN CA,enrico.vianello@cnaf.infn.it
</code></pre></div><p>will grant the <code>test</code> VO membership to clients authenticated with the above subjects.</p><p>To generate a VO mapfile for the <code>cms</code> VO, you could run the following command</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>voms-admin --host voms.cern.ch --vo cms list-users &gt; /etc/storm/webdav/vo-mapfiles.d/cms.vomap
</code></pre></div><h2 id=custom-applicationyml-configuration>Custom application.yml configuration</h2><p>The <code>application.yml</code> file can be used to override settings embedded in the
storm-webdav configuration.</p><p>It&rsquo;s mainly used to:</p><ul><li>configure the list of trusted OAuth token issuers</li><li>configure the list of trusted OpenID Connect providers (since version 1.3.0)</li><li>configure fine-grained authorization policies (since version 1.3.0)</li></ul><h3 id=trusted-oauth-connect-token-issuers-configuration>Trusted OAuth connect token issuers configuration</h3><p>In order to enable an OAuth token issuer in the context of a storage area, such
issuer must be included in the list of trusted issuer specified in this file
<strong>and</strong> in the list of trusted organizations for the storage area in the storage area
properties in /etc/storm/webdav/sa.d.</p><h4 id=oauth-authorization-example-configuration>OAuth authorization example configuration</h4><p>To trust the <code>super-provider.example</code> OAuth/OpenID Connect provider for
the storage area <code>example</code>, such provider must be listed among the trusted
token issuers in <code>/etc/storm/webdav/config/application.yml:</code></p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>oauth</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>issuers</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>super-provider</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>issuer</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>https://super-provider.example/</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><p><strong>And</strong> in the storage area configuration <code>/etc/storm/sa.d/example.properties</code>:</p><pre><code class=language-properties data-lang=properties>name=example
rootPath=/storage/example
accessPoints=/example
vos=example
orgs=https://super-provider.example/
</code></pre><h3 id=openid-connect-authentication>OpenID connect authentication</h3><p>Starting with version 1.3.0, StoRM WebDAV supports OpenID Connect
authentication on its storage area browser application (i.e., the thing you get
when you point your browser to a StoRM WebDAV instance and that you use to
browse the storage area contents).</p><p>To enable OpenID Connect authentication you need:</p><ul><li>a trusted OpenID Connect provider, e.g. INDIGO IAM for WLCG</li><li>a client registered in such provider with the <code>authorization_code</code> grant type
enabled; instructions on how to register a client are typically provided by
the OpenID provider</li></ul><p>OpenID Connect authentication must be explicitly enabled in
<code>/etc/storm-webdav/config/application.yml</code>, as follows:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>oauth</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>enable-oidc</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><p>StoRM WebDAV leverages the <a href=https://docs.spring.io/spring-boot/docs/2.1.12.RELEASE/reference/html/boot-features-security.html#boot-features-security-oauth2-client>OpenID Connect support provider by Spring security
libraries</a>. Below an example is given for the WLCG IAM
OpenID Connect provider:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>spring</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>security</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>oauth2</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>client</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>provider</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>wlcg</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>issuer-uri</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>https://wlcg.cloud.cnaf.infn.it/</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>registration</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>wlcg</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>provider</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>wlcg</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>client-name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>WLCG IAM</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>client-id</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>PUT_YOUR_CLIENT_ID_HERE</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>client-secret</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>PUT_YOUR_CLIENT_SECRET_HERE</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>scope</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>              </span>- <span style=color:#000>openid</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>              </span>- <span style=color:#000>profile</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>              </span>- <span style=color:#000>wlcg.groups</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><h3 id=fine-grained-authorization-1>Fine-grained authorization</h3><p>Starting with version 1.3.0, StoRM WebDAV provides support for fine-grained authorization on storage areas.</p><p>Before 1.3.0, authorization was coarse-grained, i.e. read and write privileges on a storage area were granted to a VOMS VO or OAuth trusted issuer, and those privileges were applied to the whole storage area, i.e. it was not possible to have different authorization policies on folders or on specific paths, or to grant different privileges to specific groups or subjects.</p><p>Fine-grained authorization can be enabled on a storage area as follows:</p><pre><code class=language-properties data-lang=properties>name=example
rootPath=/storage/example
...
fineGrainedAuthzEnabled=true
</code></pre><p>Then authorization policies must be included in the <code>/etc/storm/webdav/config/application.yml</code> configuration. Example policies are given below:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>storm</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>authz</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>policies</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>sa</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>example</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>actions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>list</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>read</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>effect</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>permit</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>description</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Grant read access to users in the /example/read group</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>principals</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>oauth-group</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>params</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>iss</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>https://vo.example/</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>group</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/example/read</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>sa</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>example</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>actions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>all</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>effect</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>permit</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>description</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Grant write access to /example/write-area to /example/write users</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>principals</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>oauth-group</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>params</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>iss</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>https://vo.example/</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>group</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/example/write</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>paths</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>       </span>- <span style=color:#000>/write-area/**</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><p>The first policy grants read access to the whole <code>example</code> storage area to members
of group <code>/example/read</code>, as asserted by the trusted OAuth token issuer <code>https://vo.example</code>.</p><p>The second policy grants all privileges to members of group <code>/example/write</code> to the path <code>/write-area</code>,
and all its subpaths, as defined in the context of the storage area, i.e. below any of the access points defined for that storage
area. So, assuming the the <code>example</code> storage area is configured to have a single access point, <code>/example</code>, the policy will
apply to <code>/example/write-area</code> and all its subpath.</p><h4 id=fine-grained-authorization-policies-1>Fine-grained authorization policies</h4><p>A fine-grained authorization policy defines access rules to directory and files in the context of a storage area.
In detail, an access policy defines access rules that regulate which actions on which resources are allowed for a set of principals.
Actions, in this context, are read, write, list and delete operations on files and directories. Resources are files and directories. Principals are authenticated entities (i.e., users or agents).</p><p>Policies are defined in the context of a storage area, and are applied in order following a first-applicable principle.
This means that the first policy found in the list that matches an incoming request will be applied when rendering an authorization
decision.</p><p>A policy matches an incoming request when the resources, actions and principal in the policy match the target resource action
and principal in the request.</p><p>An example, annotated policy is given below:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>policies</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>// The storage area that will apply to this policy</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>sa</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>example</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>actions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// An array of actions regulated by this policy, possible values are</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// read, write, delete, list, all</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>list</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>read</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// The policy effect. Possible values are &#39;permit&#39;, &#39;deny&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>effect</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>permit</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// A policy description.</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>description</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Grant read access to selected vo users</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// List of paths that this policy will apply to.</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// Paths are specific to the storage area, i.e. are relative to the</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// storage area access points. </span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>// Example</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// In a storage area &#39;example&#39;, that as the &#39;/example/&#39; access point,</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// in order to match the &#39;/example/read-only&#39; path and its subpaths, the</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// path expression included in the policy would be &#39;/read-only/**&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// &#39;**&#39; matches any file or directory, at any level of nesting, of a given path</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// &#39;*&#39; matches any file or directory contained in a given path</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>// The matching rules follow the Spring AntPath matcher conventions, see</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>paths</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>/read-only/**</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// The list of principals this policy will apply to. Below examples of principals </span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// are given</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>principals</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// Anymous principal, will match users not authenticated</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>anonymous </span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// Any authenticated user, will match users that have been authenticated</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// (with any supported mechanism, i.e. X.509, OAuth or OIDC)</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>any-authenticated-user</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// anyone, will match any principal</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>anyone</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// a VOMS fully qualified attribute name</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>fqan</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>params</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>fqan</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/test.vo/Role=admin</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// A VOMS vo</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>vo</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>params</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>vo</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>dteam</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// An OAuth/OpenID Connect group, as asserted by a trusted OAuth/OpenID Connect token issuer</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>oauth-group</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>params</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>iss</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>https://wlcg.cloud.cnaf.infn.it/</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>group</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/wlcg/xfers</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// An OAuth/OpenID Connect scope, as asserted by a trusted OAuth/OpenID Connect token issuer</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>oauth-scope</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>params</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>iss</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>https://wlcg.cloud.cnaf.infn.it/</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>scope</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/storage.read:/</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>// An OAuth/OpenID Connect subject, as asserted by a trusted OAuth/OpenID Connect token issuer</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>oidc-subject</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>params</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>iss</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>https://wlcg.cloud.cnaf.infn.it/</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>sub</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>a1b98335-9649-4fb0-961d-5a49ce108d49</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><h2 id=threadpool-sizes>Threadpool sizes</h2><p>The size of the thread pool used to serve incoming requests and
third-party-copy requests can be set with the following variables:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>storm</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>connector</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>max-connections</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>300</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>max-queue-size</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>900</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>tpc</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>max-connections</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>200</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>max-connections-per-route</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>150</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>progress-report-thread-pool-size</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>(# of cores of your machine)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><h2 id=conscrypt>Conscrypt</h2><p>Conscrypt improves TLS performance and can be enabled as follows:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>storm</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>tpc</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>use-conscrypt</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>tls</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>use-conscrypt</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>enable-http2</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><h2 id=configuring-support-for-third-party-transfers>Configuring support for third-party transfers</h2><p>Starting with version 1.1.0, StoRM WebDAV supports third party copy transfers.</p><p>Third party transfer support is enabled and active by default, but will work as
expected only when properly configured.</p><h3 id=hostname-configuration>Hostname configuration</h3><p>Support for third-party transfers is implemented by supporting a COPY method
request where the Source or Destination header points to a remote resource.</p><p>In order to tell apart remote resources from local ones, StoRM webdav must be
configured accordingly.</p><p>This is done via the <code>STORM_WEBDAV_HOSTNAME_0</code>, <code>STORM_WEBDAV_HOSTNAME_1</code>, &mldr;,
environment variables, which allow to define for which hostnames (and aliases)
the service is serving requests.</p><p>Example:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat>STORM_WEBDAV_HOSTNAME_0=<span style=color:#4e9a06>&#34;ds-808.cr.cnaf.infn.it&#34;</span>
STORM_WEBDAV_HOSTNAME_1=<span style=color:#4e9a06>&#34;gridhttps-storm-atlas.cr.cnaf.infn.it&#34;</span>
</code></pre></div><h3 id=oauth-authorization-server-configuration>OAuth authorization server configuration</h3><p>The OAuth authorization server can be used by clients such as FTS to obtain an
OAuth access token that grants the same privileges as a VOMS credential. This
mechanism is currently used to implement a form of delegated authorization in
support of third-party transfers.</p><p>The tokens issued by the StoRM WebDAV OAuth authorization servers will only be
accepted by the StoRM WebDAV service instances. In a replicated setup, just
ensure that the OAuth server configuration is consistent across the replicas.</p><p>Below is an example of configuration:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat># THe issuer linked to the issued tokens. This is typically the &#39;https://&#39; followed
# by the storm webdav instance main alias.
STORM_WEBDAV_AUTHZ_SERVER_ISSUER=<span style=color:#4e9a06>&#34;https://gridhttps-storm.atlas.cr.cnaf.infn.it&#34;</span>

# The secret used to sign the tokens. 
STORM_WEBDAV_AUTHZ_SERVER_SECRET=<span style=color:#4e9a06>&#34;supersupersupersecret&#34;</span>
</code></pre></div><h2 id=configuring-support-for-externalized-sessions>Configuring support for externalized sessions</h2><p>Starting with version 1.4.0, StoRM WebDAV supports storing HTTP session
information in an external <a href=https://redis.io/>redis</a> server.</p><p>This can be useful when deploying multiple replicas of the StoRM WebDAV
service.</p><p>Externalized session support can be enabled by adding the following
configuration to the <code>/etc/storm/webdav/config/application.yaml</code> file:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>spring</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>session</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>store-type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>redis</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>redis</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>redis.host.example</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>6379</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><p>For other redis connection configuration options, see the <a href=https://docs.spring.io/spring-boot/docs/2.2.9.RELEASE/reference/htmlsingle/#data-properties>Spring boot reference guide</a>.</p><h2 id=memory>Memory</h2><p>You should give a reasonable amount of memory to StoRM WebDAV to do its work.
The amount depends on the number of concurrent requests that the server needs
to handle.</p><p>A good starting point is giving the server 2G of heap memory, by setting the
following env variable:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat>STORM_WEBDAV_JVM_OPTS=-Xms2048m -Xmx2048m
</code></pre></div><p>In general, allowing for <code>256Mb + (# threads * 6Mb)</code> should give StoRM WebDAV
enough memory to do its work.</p><h2 id=use-devurandom-for-random-number-generation>Use <code>/dev/urandom</code> for random number generation</h2><p>Using <code>/dev/random</code> can lead to the service being blocked if not enough entropy
is available in the system.</p><p>To avoid this scenario, use <code>/dev/urandom</code>, by setting the JVM options as
follows:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat>STORM_WEBDAV_JVM_OPTS=-Xms2048m -Xmx2048m -Djava.security.egd=file:/dev/./urandom
</code></pre></div><h2 id=puppet-configuration>Puppet configuration</h2><p>The <a href=https://github.com/italiangrid/storm-puppet-module>StoRM puppet module</a> can be used to configure the service on
CENTOS 7.</p><p>We recommend to use directly the StoRM WebDAV YAML configuration to tune your
deployment configuration, instead of using variables defined at the puppet
level, i.e.:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-puppet data-lang=puppet><span style=color:#8f5902;font-style:italic># Install service and configure enviroment variables</span><span style=color:#a40000>
</span><span style=color:#a40000></span><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#4e9a06>&#39;storm::webdav&#39;</span><span style=color:#000;font-weight:700>:</span><span style=color:#a40000>
</span><span style=color:#a40000></span>  <span style=color:#c4a000>hostnames</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;storm-webdav.test.example&#39;</span><span style=color:#000;font-weight:700>],</span><span style=color:#a40000>
</span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic># Configure your application.yml</span><span style=color:#a40000>
</span><span style=color:#a40000></span><span style=color:#c4a000>storm</span><span style=color:#000;font-weight:700>::</span><span style=color:#c4a000>webdav</span><span style=color:#000;font-weight:700>::</span><span style=color:#c4a000>application_file</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#4e9a06>&#39;application.yml&#39;</span><span style=color:#000;font-weight:700>:</span><span style=color:#a40000>
</span><span style=color:#a40000></span>  <span style=color:#c4a000>source</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#39;puppet:///the/path/to/the/application.yml&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#a40000>
</span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic># Storage Area configuration (one for each storage area)</span><span style=color:#a40000>
</span><span style=color:#a40000></span><span style=color:#c4a000>storm</span><span style=color:#000;font-weight:700>::</span><span style=color:#c4a000>webdav</span><span style=color:#000;font-weight:700>::</span><span style=color:#c4a000>storage_area_file</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#4e9a06>&#39;test.vo.properties&#39;</span><span style=color:#000;font-weight:700>:</span><span style=color:#a40000>
</span><span style=color:#a40000></span>  <span style=color:#c4a000>source</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#39;puppet:///the/path/to/the/test.vo.properties&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#a40000>
</span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span><span style=color:#a40000></span><span style=color:#c4a000>storm</span><span style=color:#000;font-weight:700>::</span><span style=color:#c4a000>webdav</span><span style=color:#000;font-weight:700>::</span><span style=color:#c4a000>storage_area_file</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#4e9a06>&#39;test.vo.2.properties&#39;</span><span style=color:#000;font-weight:700>:</span><span style=color:#a40000>
</span><span style=color:#a40000></span>  <span style=color:#c4a000>source</span> <span style=color:#ce5c00;font-weight:700>=&gt;</span> <span style=color:#4e9a06>&#39;puppet:///the/path/to/the/test.vo.2.properties&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#a40000>
</span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></code></pre></div><div class="text-muted mt-5 pt-3 border-top">Last modified June 22, 2023: <a href=https://github.com/enricovianello/docsy-example/commit/27591a22605844b616ad20cda683279c9b8aa70e>Refactor sections order (27591a2)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="StoRM users mailing list" aria-label="StoRM users mailing list"><a class=text-white target=_blank rel=noopener href=https://lists.infn.it/sympa/info/storm-users aria-label="StoRM users mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/italiangrid/storm aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://infn-storm-support.slack.com/ aria-label=Slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="StoRM developers mailing list" aria-label="StoRM developers mailing list"><a class=text-white target=_blank rel=noopener href=https://lists.infn.it/sympa/info/storm-devel aria-label="StoRM developers mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 INFN All Rights Reserved</small><p class=mt-2><a href=/storm-docs/about/>About us</a></p></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/storm-docs/js/tabpane-persist.js></script><script src=/storm-docs/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script></body></html>