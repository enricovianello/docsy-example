<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>StoRM â€“ StoRM</title><link>https://enricovianello.github.io/storm-docs/</link><description>Recent content on StoRM</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://enricovianello.github.io/storm-docs/index.xml" rel="self" type="application/rss+xml"/><item><title>Blog: New StoRM website!</title><link>https://enricovianello.github.io/storm-docs/blog/2022/01/14/new-storm-website/</link><pubDate>Fri, 14 Jan 2022 00:00:00 +0000</pubDate><guid>https://enricovianello.github.io/storm-docs/blog/2022/01/14/new-storm-website/</guid><description>
&lt;p>The StoRM website and documentation has &lt;a href="https://italiangrid.github.io/storm/">moved&lt;/a>,
and if you&amp;rsquo;re reading this you already know.&lt;/p>
&lt;p>The new StoRM website is powered by &lt;a href="https://www.docsy.dev/">Docsy&lt;/a>, a &lt;a href="https://gohugo.io/">Hugo&lt;/a> theme for
creating technical documentation sites, which is increasingly popular in Open
Source projects.&lt;/p>
&lt;p>The new site provides new and improved documentation.&lt;/p>
&lt;p>If you find something is missing or broken, let us know by opening an issue
or suggest changes. The new Docsy website makes this very easy to anyone with a
Github account, just see the tab on the right of each page.&lt;/p></description></item><item><title>Blog: Released StoRM v1.11.21</title><link>https://enricovianello.github.io/storm-docs/blog/2021/05/12/released-storm-v1.11.21/</link><pubDate>Wed, 12 May 2021 00:00:00 +0000</pubDate><guid>https://enricovianello.github.io/storm-docs/blog/2021/05/12/released-storm-v1.11.21/</guid><description>
&lt;p>The StoRM Product Team is pleased to announce the release of
&lt;a href="https://italiangrid.github.io/storm/release-notes/StoRM-v1.11.21.html">StoRM 1.11.21&lt;/a> that includes the following updated components:&lt;/p>
&lt;ul>
&lt;li>StoRM Backend v. &lt;a href="https://github.com/italiangrid/storm/releases/tag/v1.11.21">1.11.21&lt;/a>&lt;/li>
&lt;li>StoRM Frontend v. &lt;a href="https://github.com/italiangrid/storm-frontend/releases/tag/v1.8.15">1.8.15&lt;/a>&lt;/li>
&lt;li>StoRM WebDAV v. &lt;a href="https://github.com/italiangrid/storm-webdav/releases/tag/v1.4.1">1.4.1&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>and introduces:&lt;/p>
&lt;ul>
&lt;li>StoRM Utils v. &lt;a href="https://github.com/italiangrid/storm-utils/releases/tag/v1.0.0">1.0.0&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>This release:&lt;/p>
&lt;ul>
&lt;li>fixes the &lt;a href="https://enricovianello.github.io/storm-docs/storm-docs/blog/2021/04/30/storm-v1.11.20-could-break-connections-with-mariadb/">known issue&lt;/a> about the upgrade to StoRM v1.11.20 which could break connections with MariaDB&lt;/li>
&lt;li>fixes the boot order for both Frontend and Backend ensuring that mariadb service is started before StoRM services;&lt;/li>
&lt;li>fixes the failed state shown on stop/restart of Java components;&lt;/li>
&lt;li>provides a set of scripts that can be used to edit from command line the storage space info related to a storage area.&lt;/li>
&lt;/ul>
&lt;p>Please, follow the &lt;a href="https://italiangrid.github.io/storm/documentation/sysadmin-guide/1.11.21/upgrading/">upgrade instructions&lt;/a>.
Read the &lt;a href="https://italiangrid.github.io/storm/release-notes/StoRM-v1.11.21.html">release notes&lt;/a> for more details.&lt;/p></description></item><item><title>Blog: StoRM v1.11.20 could break connections with MariaDB</title><link>https://enricovianello.github.io/storm-docs/blog/2021/04/30/storm-v1.11.20-could-break-connections-with-mariadb/</link><pubDate>Fri, 30 Apr 2021 00:00:00 +0000</pubDate><guid>https://enricovianello.github.io/storm-docs/blog/2021/04/30/storm-v1.11.20-could-break-connections-with-mariadb/</guid><description>
&lt;p>After the update from StoRM v1.11.19 to StoRM v1.11.20, if JVM and database are not on the same timezone, the Backend&amp;rsquo;s communication with MariaDB could start failing with the following error:&lt;/p>
&lt;pre>&lt;code>Caused by: java.sql.SQLException: The server time zone value 'CEST' is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value if you want to utilize time zone support.
&lt;/code>&lt;/pre>&lt;p>This bug is tracked at &lt;a href="https://issues.infn.it/jira/browse/STOR-1397">STOR-1397&lt;/a>.&lt;/p>
&lt;p>The possible solutions to avoid this problem are:&lt;/p>
&lt;ul>
&lt;li>downgrade StoRM Backend to v1.11.19 (&lt;strong>recommended&lt;/strong>)&lt;/li>
&lt;li>apply a workaround within MariaDB&lt;/li>
&lt;li>install StoRM Backend v1.11.21 beta&lt;/li>
&lt;/ul>
&lt;h3 id="downgrade-storm-backend-to-v11119">Downgrade StoRM Backend to v1.11.19&lt;/h3>
&lt;p>&lt;strong>RECOMMENDED&lt;/strong>. It&amp;rsquo;s the fastest and easy thing to do. The command:&lt;/p>
&lt;pre>&lt;code>yum downgrade storm-backend-server
&lt;/code>&lt;/pre>&lt;p>should ask you to install StoRM Backend v1.11.19. Confirm and restart the service:&lt;/p>
&lt;pre>&lt;code>systemctl restart storm-backend-server
&lt;/code>&lt;/pre>&lt;h3 id="apply-a-workaround-within-mariadb">Apply a workaround within MariaDB&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>Populate&lt;/strong> &lt;code>mysql.time_zone_name&lt;/code> &lt;strong>table&lt;/strong>&lt;/p>
&lt;p>The &lt;code>mysql.time_zone_name&lt;/code> table should be empty:&lt;/p>
&lt;pre>&lt;code>MariaDB [mysql]&amp;gt; SELECT * FROM mysql.time_zone_name;
Empty set (0.00 sec)
&lt;/code>&lt;/pre>&lt;p>and global variable &lt;code>time_zone&lt;/code> should be set to SYSTEM.&lt;/p>
&lt;pre>&lt;code>MariaDB [mysql]&amp;gt; SHOW GLOBAL VARIABLES LIKE 'time_zone';
+---------------+--------+
| Variable_name | Value |
+---------------+--------+
| time_zone | SYSTEM |
+---------------+--------+
1 row in set (0.00 sec)
&lt;/code>&lt;/pre>&lt;p>We need to populate that table as follows:&lt;/p>
&lt;pre>&lt;code>mysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -uroot -pYOUR_MYSQL_ROOT_PASSWORD mysql
&lt;/code>&lt;/pre>&lt;/li>
&lt;li>
&lt;p>&lt;strong>Set&lt;/strong> &lt;code>default_time_zone&lt;/code>&lt;/p>
&lt;p>Edit &lt;code>/etc/my.cnf.d/server.conf&lt;/code> and add under &lt;code>[mysql]&lt;/code> section add the following:&lt;/p>
&lt;pre>&lt;code>default_time_zone = Europe/Rome
&lt;/code>&lt;/pre>&lt;p>Or choose your proper &lt;code>time_zone&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Restart MySQL&lt;/strong>&lt;/p>
&lt;pre>&lt;code>systemctl restart mariadb
&lt;/code>&lt;/pre>&lt;p>And check new time zone value:&lt;/p>
&lt;pre>&lt;code>MariaDB [(none)]&amp;gt; SHOW GLOBAL VARIABLES LIKE 'time_zone';
+---------------+-------------+
| Variable_name | Value |
+---------------+-------------+
| time_zone | Europe/Rome |
+---------------+-------------+
1 row in set (0.00 sec)
&lt;/code>&lt;/pre>&lt;/li>
&lt;li>
&lt;p>&lt;strong>Restart StoRM Backend&lt;/strong>&lt;/p>
&lt;pre>&lt;code>systemctl restart storm-backend-server
&lt;/code>&lt;/pre>&lt;/li>
&lt;/ol>
&lt;h3 id="install-storm-backend-v11121-beta">Install StoRM Backend v1.11.21 beta&lt;/h3>
&lt;p>StoRM beta repository already contains a beta version of next StoRM v1.11.21 with this error fixed.
Of course beta repository is not a stable repo, so apply this in case of a testbed. We do not recommend use this rpms in a production behaviour.&lt;/p>
&lt;p>Browse CentOS 7 Beta repository &lt;a href="https://repo.cloud.cnaf.infn.it/service/rest/repository/browse/storm-rpm-beta/centos7/">here&lt;/a>.&lt;/p></description></item></channel></rss>